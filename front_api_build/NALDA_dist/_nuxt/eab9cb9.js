(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1057:function(t,o,n){"use strict";n.r(o);n(5),n(4),n(2),n(6),n(7);var e=n(9),l=n(0),c=(n(32),n(1),n(3),n(120));function r(object,t){var o=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),o.push.apply(o,n)}return o}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(Object(source),!0).forEach((function(o){Object(l.a)(t,o,source[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):r(Object(source)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(source,o))}))}return t}var d={name:"AttendantStock",data:function(){return{isValid:!0,ListType:"snacks",snackQuantity:[],alcoholQuantity:[],nonAlcoholQuantity:[],amenityQuantity:[],TotalServiceQuantity:[],whole:[],wholeQuantity:[]}},computed:h(h(h({rows:function(){return this.serviceList.length}},Object(c.e)("attendant",["serviceList","snackList","alcoholsList","nonalcoholosList","amenityList","setStock","stockCnt"])),Object(c.e)("user",["loginMember","flightNum"])),Object(c.e)("menu",["total","items","stock"])),created:function(){var t=this;new Promise((function(t,o){t()})).then(Object(e.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.getServiceList(t.flightNum);case 2:return o.next=4,t.getServiceCnt(t.flightNum);case 4:return o.next=6,t.getOrderCnt(t.flightNum);case 6:(null===(n=t.stock)||void 0===n?void 0:n.length)>0&&(t.stock.forEach((function(o){var n,e=o.serviceCode.substr(0,2),l=o.serviceCode.substr(3)-1;l<0&&(l+=10),"A0"===e?t.$set(t.snackQuantity,l,o.total):"A1"===e?t.$set(t.alcoholQuantity,l,o.total):"A2"===e?t.$set(t.nonAlcoholQuantity,l,o.total):"C0"===e&&t.$set(t.amenityQuantity,l,o.total),(null===(n=t.total)||void 0===n?void 0:n.length)>0&&t.total.forEach((function(n){n.serviceCode===o.serviceCode&&("A0"===e?t.$set(t.snackQuantity,l,o.total-n.total):"A1"===e?t.$set(t.alcoholQuantity,l,o.total-n.total):"A2"===e?t.$set(t.nonAlcoholQuantity,l,o.total-n.total):"C0"===e&&t.$set(t.amenityQuantity,l,o.total-n.total))}))})),t.isValid=!t.isValid,t.SET_STOCK_STATUS());case 7:case"end":return o.stop()}}),o)}))))},methods:h(h(h(h(h({},Object(c.b)("attendant",["getServiceList","setStockAmount","modifyStockAmount","getStockAmount"])),Object(c.b)("menu",["getOrderCnt","getServiceCnt"])),Object(c.d)("attendant",["SET_STOCK_STATUS"])),Object(c.d)("menu",["SET_ITEM","CALC_STOCK"])),{},{calcStock:function(){this.CALC_STOCK()},showSnack:function(){this.ListType="snacks"},showAlcohol:function(){this.ListType="alcohols"},showNonAlcohol:function(){this.ListType="nonalcohols"},showAmenity:function(){this.ListType="amenities"},setTotal:function(){this.TotalServiceQuantity=[],this.whole=[],this.whole.push(this.snackList),this.whole.push(this.alcoholsList),this.whole.push(this.nonalcoholosList),this.whole.push(this.amenityList),this.wholeQuantity.push(this.snackQuantity),this.wholeQuantity.push(this.alcoholQuantity),this.wholeQuantity.push(this.nonAlcoholQuantity),this.wholeQuantity.push(this.amenityQuantity);for(var t=0;t<this.whole.length;t++)for(var i=0;i<this.whole[t].length;i++){var o={serviceCode:this.whole[t][i].serviceCode,flightNum:this.flightNum,total:this.whole[t][i].serviceQuantity};this.wholeQuantity[t][i]>=0&&(o.total=this.wholeQuantity[t][i]),this.TotalServiceQuantity.push(o)}for(var n=0;n<this.TotalServiceQuantity.length;n++)n<this.snackList.length?void 0!==this.snackQuantity[n]&&(this.TotalServiceQuantity[n].total=this.snackQuantity[n]):n<this.snackList.length+this.alcoholsList.length?void 0!==this.alcoholQuantity[n]&&(this.TotalServiceQuantity[n].total=this.alcoholQuantity[n-this.snackList.length]):n<this.snackList.length+this.alcoholsList.length+this.nonalcoholosList.length?void 0!==this.nonAlcoholQuantity[n]&&(this.TotalServiceQuantity[n].total=this.nonAlcoholQuantity[n-(this.snackList.length+this.alcoholsList.length)]):n<this.snackList.length+this.alcoholsList.length+this.nonalcoholosList.length+this.amenityList.length&&void 0!==this.amenityQuantity[n]&&(this.TotalServiceQuantity[n].total=this.amenityQuantity[n-(this.snackList.length+this.alcoholsList.length+this.nonalcoholosList.length)]);this.isValid=!this.isValid,!1===this.setStock?this.$store.dispatch("attendant/setStockAmount",this.TotalServiceQuantity):!0===this.setStock&&this.$store.dispatch("attendant/modifyStockAmount",this.TotalServiceQuantity)},unSetTotal:function(){this.isValid=!this.isValid}})},v=d,y=(n(876),n(93)),component=Object(y.a)(v,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"stock-input-wrap"},[o("div",{staticClass:"stock-table"},[o("div",{staticClass:"stock-input-table"},[o("b-table-simple",{attrs:{id:"stocks-table",hover:"",small:"","caption-top":"",responsive:""}},[o("caption",[o("div",{staticClass:"caption-wrap"},[o("h3",[t._v("항공편 "+t._s(t.flightNum)+" 재고 목록")])])]),t._v(" "),o("colgroup",[o("col"),t._v(" "),o("col")]),t._v(" "),o("colgroup",[o("col"),t._v(" "),o("col"),t._v(" "),o("col")]),t._v(" "),o("colgroup",[o("col"),t._v(" "),o("col")]),t._v(" "),o("b-thead",{attrs:{"head-variant":"dark"}},[o("b-tr",[o("b-th",{attrs:{colspan:"3"}},[t._v("재고")]),t._v(" "),o("b-th",{attrs:{colspan:"3"}},[t._v("상품 목록")])],1),t._v(" "),o("b-tr",[o("b-th",[t._v("서비스명")]),t._v(" "),o("b-th",[t._v("상품명")]),t._v(" "),o("b-th",[t._v("상품코드")]),t._v(" "),o("b-th",[t._v("수량")])],1)],1),t._v(" "),"snacks"===t.ListType?o("b-tbody",[o("b-tr",[o("b-th",{attrs:{rowspan:t.snackList.length+1}},[t._v("과자")])],1),t._v(" "),t._l(t.snackList,(function(n,e){return o("b-tr",{key:e},[o("b-th",{staticClass:"text-right"},[t._v(t._s(n.serviceName))]),t._v(" "),o("b-th",[t._v(t._s(n.serviceCode))]),t._v(" "),o("b-td",[o("b-form-input",{staticClass:"snack-input-wrap",attrs:{id:"snack-input",disabled:!t.isValid,type:"number",name:n.serviceName,placeholder:"수량을 입력해주세요."},model:{value:t.snackQuantity[e],callback:function(o){t.$set(t.snackQuantity,e,o)},expression:"snackQuantity[index]"}})],1)],1)}))],2):"alcohols"===t.ListType?o("b-tbody",[o("b-tr",[o("b-th",{attrs:{rowspan:t.alcoholsList.length+1}},[t._v("주류")])],1),t._v(" "),t._l(t.alcoholsList,(function(n,e){return o("b-tr",{key:e},[o("b-th",{staticClass:"text-right"},[t._v(t._s(n.serviceName))]),t._v(" "),o("b-th",[t._v(t._s(n.serviceCode))]),t._v(" "),o("b-td",[o("b-form-input",{staticClass:"alcohol-input-wrap",attrs:{disabled:!t.isValid,type:"number",placeholder:"수량을 입력해주세요."},model:{value:t.alcoholQuantity[e],callback:function(o){t.$set(t.alcoholQuantity,e,o)},expression:"alcoholQuantity[index]"}})],1)],1)}))],2):"nonalcohols"===t.ListType?o("b-tbody",[o("b-tr",[o("b-th",{attrs:{rowspan:t.nonalcoholosList.length+1}},[t._v("비주류")])],1),t._v(" "),t._l(t.nonalcoholosList,(function(n,e){return o("b-tr",{key:e},[o("b-th",{staticClass:"text-right"},[t._v(t._s(n.serviceName))]),t._v(" "),o("b-th",[t._v(t._s(n.serviceCode))]),t._v(" "),o("b-td",[o("b-form-input",{staticClass:"nonalcohol-input-wrap",attrs:{disabled:!t.isValid,type:"number",placeholder:"수량을 입력해주세요."},model:{value:t.nonAlcoholQuantity[e],callback:function(o){t.$set(t.nonAlcoholQuantity,e,o)},expression:"nonAlcoholQuantity[index]"}})],1)],1)}))],2):"amenities"===t.ListType?o("b-tbody",[o("b-tr",[o("b-th",{attrs:{rowspan:t.amenityList.length+1}},[t._v("편의물품")])],1),t._v(" "),t._l(t.amenityList,(function(n,e){return o("b-tr",{key:e},[o("b-th",{staticClass:"text-right"},[t._v(t._s(n.serviceName))]),t._v(" "),o("b-th",[t._v(t._s(n.serviceCode))]),t._v(" "),o("b-td",[o("b-form-input",{staticClass:"amenity-input-wrap",attrs:{disabled:!t.isValid,type:"number",placeholder:"수량을 입력해주세요."},model:{value:t.amenityQuantity[e],callback:function(o){t.$set(t.amenityQuantity,e,o)},expression:"amenityQuantity[index]"}})],1)],1)}))],2):t._e(),t._v(" "),o("b-tfoot",[o("b-tr",[o("b-td",{staticClass:"text-right",attrs:{colspan:"7",variant:"secondary"}},[t._v("\n              총 행:\n              "),"snacks"===t.ListType?o("b",[t._v(t._s(t.snackList.length))]):"alcohols"===t.ListType?o("b",[t._v(t._s(t.alcoholsList.length))]):"nonalcohols"===t.ListType?o("b",[t._v(t._s(t.nonalcoholosList.length))]):"amenities"===t.ListType?o("b",[t._v(t._s(t.amenityList.length))]):t._e()])],1)],1)],1)],1),t._v(" "),o("div",{staticClass:"stock-btn-group"},[o("b-button",{on:{click:t.showSnack}},[t._v("과자")]),t._v(" "),o("b-button",{on:{click:t.showAlcohol}},[t._v("주류")]),t._v(" "),o("b-button",{on:{click:t.showNonAlcohol}},[t._v("비주류")]),t._v(" "),o("b-button",{on:{click:t.showAmenity}},[t._v("편의물품")]),t._v(" "),t.isValid?o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{variant:"warning"},on:{click:function(o){t.setTotal(),t.$bvModal.show("modal-stock")}}},[t._v("입력")]):t.isValid?t._e():o("b-button",{attrs:{variant:"warning"},on:{click:function(o){return t.unSetTotal()}}},[t._v("수정")]),t._v(" "),o("b-modal",{attrs:{id:"modal-stock","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n          항공편\n          "),o("code",[t._v(t._s(t.flightNum))])]},proxy:!0}])},[t._v(" "),o("div",{staticClass:"d-block text-center"},[o("h3",[t._v("재고 입력 성공!")])]),t._v(" "),o("b-button",{staticClass:"mt-3",staticStyle:{color:"aliceblue"},attrs:{variant:"dark",block:""},on:{click:function(o){return t.$bvModal.hide("modal-stock")}}},[t._v("닫기")])],1),t._v(" "),o("b-button",{attrs:{variant:"success"},on:{click:function(o){t.setTotal(),t.$bvModal.show("modal-end")}}},[t._v("운항종료")]),t._v(" "),o("b-modal",{attrs:{id:"modal-end","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n          항공편\n          "),o("code",[t._v(t._s(t.flightNum))])]},proxy:!0}])},[t._v(" "),o("div",{staticClass:"d-block text-center"},[o("h3",[t._v("운항 종료 완료!")])]),t._v(" "),o("b-button",{staticClass:"mt-3",staticStyle:{color:"aliceblue"},attrs:{variant:"dark",block:""},on:{click:function(o){return t.$bvModal.hide("modal-end")}}},[t._v("닫기")])],1)],1)])])}),[],!1,null,"1f256ada",null);o.default=component.exports},779:function(t,o,n){var content=n(877);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(119).default)("495b6015",content,!0,{sourceMap:!1})},876:function(t,o,n){"use strict";n(779)},877:function(t,o,n){var e=n(118)(!1);e.push([t.i,'@font-face{font-family:"twayfly";src:url(https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_tway@1.0/twayfly.woff) format("woff");font-weight:400;font-style:normal}*[data-v-1f256ada]{margin:0;padding:0;font-family:"twayfly"}.stock-input-wrap[data-v-1f256ada]{height:85vh;background-color:hsla(0,0%,93.7%,.511)}.caption-wrap[data-v-1f256ada]{display:flex;justify-content:space-around;align-items:baseline;margin-bottom:1%}#flight-num-input[data-v-1f256ada]{width:88%}.stock-table[data-v-1f256ada]{padding:2%;height:70vh;display:flex;flex-direction:column}.stock-btn-group[data-v-1f256ada]{margin-top:2%;text-align:center}.btn-secondary[data-v-1f256ada]{background-color:#206e95;border-color:#206e95;color:#fff}.btn-secondary[data-v-1f256ada],.btn-success[data-v-1f256ada],.btn-warning[data-v-1f256ada]{font-size:large;height:100%;width:8%}.btn-success[data-v-1f256ada]{color:#fff}input[data-v-1f256ada]{border:none;outline:none;height:3vh}',""]),t.exports=e}}]);