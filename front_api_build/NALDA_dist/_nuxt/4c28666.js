(window.webpackJsonp=window.webpackJsonp||[]).push([[37,14],{1056:function(e,t,r){"use strict";r.r(t);r(5),r(4),r(2),r(6),r(3),r(7);var n=r(9),o=r(0),l=(r(32),r(1),r(120));function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"AttendantRequest",components:{PageLoader:r(601).default},data:function(){return{transProps:{name:"flip-list"},rows:null,perPagedetails:6,perPage:4,requestCurrentPage:1,completedCurrentPage:1,detailCurrentPage:1,items:this.request,fields:[{key:"좌석",sortable:!1},{key:"분류",sortable:!0},{key:"요청사항",sortable:!1},{key:"요청시각",sortable:!0},{key:"상태",sortable:!0}],request:[],completed:[],details:[],detailsfields:["선택","좌석","분류","요청사항","수량","상태"],completefields:[{key:"좌석",sortable:!1},{key:"분류",sortable:!0},{key:"요청사항",sortable:!1},{key:"완료시각",sortable:!0},{key:"상태",sortable:!0}],selecteditems:[]}},computed:c(c(c({},Object(l.c)("attendant",["ordersObject","completeObject"])),{},{reqeustrows:function(){return this.ordersObject.length},completedrows:function(){return this.completeObject.length},detailsrows:function(){return this.details.length},toggle:function(){return 0===this.ordersObject.length}},Object(l.e)("attendant",["ordersList","completeList"])),Object(l.e)("user",["loginMember","flightNum"])),created:function(){this.getListOrders(this.flightNum)},methods:c(c({},Object(l.b)("attendant",["getListOrders","updateOrderStatus"])),{},{showDetail:function(e){this.details=[];for(var i=0;i<e.주문상세.length;i++){var t={id:e.id,"좌석":e.좌석,"분류":e.주문상세[i].orderCode,"요청사항":e.주문상세[i].orderName,"수량":e.주문상세[i].cnt,"상태":e.상태};this.details.push(t)}},onRowSelected:function(e){this.selecteditems=e},selectAllRows:function(){this.$refs.selectableTable.selectAllRows()},clearSelected:function(){this.$refs.selectableTable.clearSelected()},completeRequest:function(e){for(var t=this,i=0;i<e.length;i++)e[i].상태="DONE";for(var r=0,o=0;o<this.details.length;o++)"DONE"===this.details[o].상태&&r++;r===this.details.length&&0!==r&&new Promise((function(e,t){e()})).then(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateOrderStatus(t.details[0].id);case 2:return e.next=4,t.getListOrders(t.flightNum);case 4:t.details=[];case 5:case"end":return e.stop()}}),e)}))))}})},m=(r(874),r(93)),component=Object(m.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"request-container"},[t("page-loader",{attrs:{toggle:e.toggle}}),e._v(" "),t("div",{staticClass:"request-wrap"},[t("div",{staticClass:"request-uncomplete-wrap"},[e._m(0),e._v(" "),t("div",{staticClass:"overflow-auto"},[t("div",{staticClass:"mt-3"},[t("div",{staticClass:"request-table-wrap"},[t("b-table",{staticClass:"request-items-wrap",attrs:{id:"request-table-transition",hover:"",items:e.ordersObject,"per-page":e.perPage,"current-page":e.requestCurrentPage,fields:e.fields,small:"","tbody-transition-props":e.transProps},on:{"row-clicked":e.showDetail}}),e._v(" "),t("b-pagination",{attrs:{"total-rows":e.reqeustrows,"per-page":e.perPage,"first-number":"","last-number":"",size:"sm"},model:{value:e.requestCurrentPage,callback:function(t){e.requestCurrentPage=t},expression:"requestCurrentPage"}})],1)])]),e._v(" "),t("div",{staticClass:"request-complete-wrap"},[t("h4",[e._v("완료")]),e._v(" "),t("div",{staticClass:"overflow-auto"},[t("div",{staticClass:"mt-3"},[t("div",{staticClass:"completed-table-wrap"},[t("b-table",{staticClass:"completed-items-wrap",attrs:{hover:"",items:e.completeObject,"per-page":e.perPage,fields:e.completefields,"current-page":e.completedCurrentPage,small:""},on:{"row-clicked":e.showDetail}}),e._v(" "),t("b-pagination",{attrs:{"total-rows":e.completedrows,"per-page":e.perPage,"first-number":"","last-number":"",size:"sm"},model:{value:e.completedCurrentPage,callback:function(t){e.completedCurrentPage=t},expression:"completedCurrentPage"}})],1)])])])])]),e._v(" "),t("div",{staticClass:"request-details-wrap"},[t("h4",[e._v("세부사항")]),e._v(" "),t("div",{staticClass:"overflow-auto"},[t("div",{staticClass:"mt-3"},[t("div",{staticClass:"request-table-wrap"},[t("b-table",{ref:"selectableTable",staticClass:"detail-items-wrap",attrs:{items:e.details,fields:e.detailsfields,"per-page":e.perPagedetails,multi:"",selectable:"","current-page":e.detailCurrentPage},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([{key:"cell(선택)",fn:function(r){return[r.rowSelected?[t("span",{attrs:{"aria-hidden":"true"}},[e._v("☑️")]),e._v(" "),t("span",{staticClass:"sr-only"},[e._v("Selected")])]:[t("span",{attrs:{"aria-hidden":"true"}},[e._v("⬜️")]),e._v(" "),t("span",{staticClass:"sr-only"},[e._v("Not selected")])]]}}])}),e._v(" "),e.detailsrows>6?t("b-pagination",{attrs:{"total-rows":e.detailsrows,"per-page":e.perPagedetails,"first-number":"","last-number":"",size:"sm"},model:{value:e.detailCurrentPage,callback:function(t){e.detailCurrentPage=t},expression:"detailCurrentPage"}}):e._e(),e._v(" "),t("div",{staticClass:"checked-num"},[e._v("\n            선택된 요청사항:\n            "+e._s(e.selecteditems.length)+"\n          ")]),e._v(" "),t("div",{staticClass:"request-check-wrap"},[t("div",{staticClass:"button-wrap"},[t("b-button",{on:{click:e.selectAllRows}},[e._v("전체선택")]),e._v(" "),t("b-button",{on:{click:e.clearSelected}},[e._v("전체선택해제")]),e._v(" "),t("b-button",{attrs:{variant:"info"},on:{click:function(t){e.completeRequest(e.selecteditems),e.$bvModal.show("modal-end")}}},[e._v("완료처리")]),e._v(" "),t("b-modal",{attrs:{id:"modal-end","hide-footer":""},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v("요청 처리 완료!")]},proxy:!0}])},[e._v(" "),t("div",{staticClass:"d-block text-center"},[t("h3",[e._v("요청을 완료했습니다.")])]),e._v(" "),t("b-button",{staticClass:"mt-3",staticStyle:{color:"aliceblue"},attrs:{variant:"dark",block:""},on:{click:function(t){return e.$bvModal.hide("modal-end")}}},[e._v("닫기")])],1)],1)])],1)])])])],1)}),[function(){var e=this._self._c;return e("div",{staticClass:"title"},[e("h4",[this._v("대기")])])}],!1,null,"64bebde0",null);t.default=component.exports;installComponents(component,{PageLoader:r(601).default})},597:function(e,t,r){var content=r(617);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(119).default)("2aa15e50",content,!0,{sourceMap:!1})},601:function(e,t,r){"use strict";r.r(t);var n={name:"PageLoader",props:{toggle:Boolean},data:function(){return{isloaded:!1}},mounted:function(){var e=this;document.onreadystatechange=function(){"complete"===document.readyState&&(e.isloaded=!0)}}},o=(r(616),r(93)),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return e.toggle?t("div",{staticClass:"page-loader"},[e._m(0)]):e._e()}),[function(){var e=this._self._c;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"front"},[e("img",{staticClass:"load-spinner",attrs:{src:"/icon/load_spinner_earth.png",alt:"loading-earth"}})]),this._v(" "),e("div",{staticClass:"back"},[e("img",{staticClass:"load-spinner",attrs:{src:"/icon/load_spinner_plane.png",alt:"loading-spinner-plane"}})])])}],!1,null,"4d243a66",null);t.default=component.exports},616:function(e,t,r){"use strict";r(597)},617:function(e,t,r){var n=r(118)(!1);n.push([e.i,".page-loader[data-v-4d243a66]{display:flex;justify-content:center;align-items:center;position:fixed;top:15vh;left:0;margin-bottom:15vh;width:100vw;height:70vh;background-color:hsla(0,0%,100%,0);z-index:999}.square1[data-v-4d243a66]{background-color:#dadada;-webkit-animation:left-4d243a66 1s infinite;animation:left-4d243a66 1s infinite}.square1[data-v-4d243a66],.square2[data-v-4d243a66]{width:2%;height:2%;margin-right:.5%}.square2[data-v-4d243a66]{background-color:#88c0c5}.square3[data-v-4d243a66]{background-color:#45a9c8}.square3[data-v-4d243a66],.square4[data-v-4d243a66]{width:2%;height:2%;margin-right:.5%}.square4[data-v-4d243a66]{background-color:#206e95}.loading-airplane[data-v-4d243a66]{width:100%;height:100%;margin-right:.5%;transform:rotate(45deg)}.plane[data-v-4d243a66]{width:4%;margin-right:.5%;-webkit-animation:right-4d243a66 1s .5s infinite;animation:right-4d243a66 1s .5s infinite}.load-spinner[data-v-4d243a66]{width:100%;height:100%;-webkit-animation:spinner 2s linear infinite;animation:spinner 2s linear infinite}.load-spinner[data-v-4d243a66],.spinner[data-v-4d243a66]{filter:opacity(.5) drop-shadow(0 0 0 #206e95)}.spinner[data-v-4d243a66]{width:20%;margin-right:.5%;position:relative;margin-bottom:15%}.back[data-v-4d243a66],.front[data-v-4d243a66]{position:absolute}.back[data-v-4d243a66]{-webkit-animation:spin-4d243a66 2s linear infinite;animation:spin-4d243a66 2s linear infinite}@-webkit-keyframes spin-4d243a66{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin-4d243a66{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@-webkit-keyframes left-4d243a66{40%{transform:translateX(-60px)}50%{transform:translateX(0)}}@keyframes left-4d243a66{40%{transform:translateX(-60px)}50%{transform:translateX(0)}}@-webkit-keyframes right-4d243a66{40%{transform:translateX(60px)}50%{transform:translateX(0)}}@keyframes right-4d243a66{40%{transform:translateX(60px)}50%{transform:translateX(0)}}",""]),e.exports=n},778:function(e,t,r){var content=r(875);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(119).default)("301b6759",content,!0,{sourceMap:!1})},874:function(e,t,r){"use strict";r(778)},875:function(e,t,r){var n=r(118)(!1);n.push([e.i,"[data-v-64bebde0]:root{--body-background-color:#f5f6f7;--font-color:#4e4e4e;--border-gray-color:#dadada;--nalda-background-blue-color:#45a9c8;--nalda-blue-color:#206e95;--nalda-blue-border-color:#88c0c5;--nalda-navy-color:#1b2f40}.request-container[data-v-64bebde0]{height:85vh;display:flex;justify-content:space-between;background-color:hsla(0,0%,93.7%,.511);padding:5%}.request-complete-wrap[data-v-64bebde0],.request-uncomplete-wrap[data-v-64bebde0]{display:flex;flex-direction:column}.completed-table-wrap[data-v-64bebde0],.request-table-wrap[data-v-64bebde0]{display:flex;flex-direction:column;justify-content:center;align-items:center}h4[data-v-64bebde0]{width:80%;margin-left:3%}.table[data-v-64bebde0]{height:100%;width:95%;color:#1b2f40;text-align:center;table-layout:fixed;font-size:.8em}td[data-v-64bebde0],th[data-v-64bebde0]{padding:.3rem}table#request-table-transition .flip-list-move[data-v-64bebde0]{transition:transform 1s}.checked-num[data-v-64bebde0]{width:95%;font-size:smaller;display:flex;justify-content:flex-start}.request-check-wrap[data-v-64bebde0]{width:95%;display:flex;justify-content:flex-end;margin-top:1%;margin-bottom:1%}",""]),e.exports=n}}]);